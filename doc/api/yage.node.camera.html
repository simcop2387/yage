<html><head>
	<META http-equiv="content-type" content="text/html; charset=utf-8">
	<title>yage.node.camera</title>
	</head><body>
	<h1>yage.node.camera</h1>
	<!-- Generated by Ddoc from yage\node\camera.d -->
<b>Authors:</b><br>
Eric Poggel
<br><br>
<b>License:</b><br>
<a href="lgpl.txt">LGPL</a>
 
<br><br>

<dl><dt><big>class <u>CameraNode</u>: yage.node.node.Node;
</big></dt>
<dd>A <u>CameraNode</u> renders everything it sees to a Texture.
 Currently, several constraints are used that allow for render-to-texture
 on hardware that only supports power-of-two sized textures.  In the future,
 this will be dropped for a more robust but less backward-compatible solution.
 Node that two Cameras cannot render concurrently since OpenGL itself
 isn't threadsafe.
<br><br>

<dl><dt><big>this(BaseNode <i>_parent</i>);
</big></dt>
<dd>Construct as the child of another node and initialize
 the capture Texture for rendering.
<br><br>

</dd>
<dt><big>this(BaseNode <i>parent</i>, CameraNode <i>original</i>);
</big></dt>
<dd>Construct this Node as a copy of another Node and recursively copy all children.
<br><br>
<b>Params:</b><br>
<table><tr><td>BaseNode <i>parent</i></td>
<td>This Node will be a child of <i>parent</i>.</td></tr>
<tr><td>CameraNode <i>original</i></td>
<td>This Node will be an exact copy of <i>original</i>.</td></tr>
</table><br>

</dd>
<dt><big>protected void <u>buildFrustum</u>();
</big></dt>
<dd>Build a 6-plane view frutum based on the orientation of the camera and
 the parameters passed to setView(). 
<br><br>

</dd>
<dt><big>int <u>getFrameCount</u>();
</big></dt>
<dd>Get the number of frames this camera has rendered.
<br><br>

</dd>
<dt><big>Plane [] <u>getFrustum</u>();
</big></dt>
<dd><br><br>
</dd>
<dt><big>Matrix  <u>getInverseAbsoluteMatrix</u>();
</big></dt>
<dd>Get the inverse of the camera's absolute matrix.  This is pre-calculated per call to .toTexture().
<br><br>

</dd>
<dt><big>Node <u>getNodeAtCoordinate</u>(int <i>x</i>, int <i>y</i>);
</big></dt>
<dd>Return the closest Node to the Camera in the Camera's Scene at the <i>x</i>, <i>y</i>
 coordinates in the Camera's Texture.  This will not return any Nodes from
 the Scene's skybox.  Returns <b>null</b> if no Node is at the position.
<br><br>

</dd>
<dt><big>int <u>getNodeCount</u>();
</big></dt>
<dd>Get the number of Nodes onscreen and rendered in the last call to toTexture().
<br><br>

</dd>
<dt><big>int <u>getPolyCount</u>();
</big></dt>
<dd>Get the number of polygons rendered in the last call to ToTexture().
<br><br>

</dd>
<dt><big>int <u>getVertexCount</u>();
</big></dt>
<dd>Get the number of vertices rendered in the last call to ToTexture().
<br><br>

</dd>
<dt><big>Vec!(int,2)  <u>getResolution</u>();
</big></dt>
<dd><br><br>
</dd>
<dt><big>CameraTexture <u>getTexture</u>();
</big></dt>
<dd>Get the Texture that the camera renders to.
<br><br>

</dd>
<dt><big>void <u>getWorldCoordinate</u>(int <i>x</i>, int <i>y</i>, float <i>z</i>, Vec3f <i>result</i>);
</big></dt>
<dd><i>x</i> and <i>y</i> in screen coordinates, <i>z</i> is distance from camera. Unfinished
<br><br>

</dd>
<dt><big>void <u>setResolution</u>(uint <i>width</i>, uint <i>height</i>);
</big></dt>
<dd>Set the resolution of the texture that the camera renders to.
 Special values of zero set the resolution to the current window size.
<br><br>

</dd>
<dt><big>void <u>setView</u>(float <i>near</i> = cast(float)1, float <i>far</i> = cast(float)100000, float <i>fov</i> = cast(float)45, float <i>aspect</i> = cast(float)0, float <i>threshold</i> = 0.667F);
</big></dt>
<dd>Set multiple variables that affect the camera's view when .toTexture() is called.
<br><br>
<b>Params:</b><br>
<table><tr><td>float <i>near</i></td>
<td>Nothing closer than this will be rendered.  The default is 1.</td></tr>
<tr><td>float <i>far</i></td>
<td>Nothing further away than this will be rendered.  The default is 100,000.</td></tr>
<tr><td>float <i>fov</i></td>
<td>The field of view of the camera, in degrees.  The default is 45.</td></tr>
<tr><td>apsect</td>
<td>The <i>aspect</i> ratio of the camera.  A special value of zero allows for
 it to be set automatically by the size of the window (Device.getWidth() /
 Device.getHeight()).  Zero is also the default value.</td></tr>
<tr><td>float <i>threshold</i></td>
<td>Minimum size of a node in pixels before it's rendered.  The default
 is 0.667 (2/3rds of a pixel).</td></tr>
</table><br>

</dd>
<dt><big>void <u>toTexture</u>();
</big></dt>
<dd>Render everything seen by the camera to its own Texture.  The Texture can then be
 added to a material or used for any other purpose by using getTexture(). 
<br><br>

</dd>
<dt><big>void <u>update</u>(float <i>delta</i>);
</big></dt>
<dd>Give the new position and velocity of the camera to OpenAL
 Should setTransformDirty() be overridden instead?
 TODO--Allow only one camera to play sound. 
<br><br>

</dd>
</dl>
</dd>
</dl>

	<hr><small>Page generated by <a href="http://www.digitalmars.com/d/ddoc.html">Ddoc</a>. (c) 2005-2007 Eric Poggel
</small>
	</body></html>
