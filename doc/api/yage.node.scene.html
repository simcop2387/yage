
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
  <head>
	<meta http-equiv="content-type" content="text/html; charset=utf-8">
	<meta content="text/javascript" http-equiv="content-script-type">
	<title>yage.node.scene</title>
	<link rel="stylesheet" type="text/css" href="css/default.css">
	<link rel="stylesheet" type="text/css" href="css/candydoc.css">
	<link rel="stylesheet" type="text/css" href="css/menu.css">
	<script language="JavaScript" src="js/util.js" type="text/javascript"></script>
	<script language="JavaScript" src="js/tree.js" type="text/javascript"></script>
	<script language="JavaScript" src="js/explorer.js" type="text/javascript"></script>
  </head>
  <body>
	<!-- Title Image -->  
	<div style="position: absolute; z-index: 2;">
	  <a href="index.php"><img src="img/title.png" alt="Yage3D.net" border="0"></a>
	</div>
	
	<!-- Menu -->
	<div style="position: absolute;	height: 87px; width: 100%;">
	  <div style="position: absolute; bottom: 0px;">
		<div id="slidetabsmenu">
		  <ul>
			<li><a href="http://www.yage3d.net" title="Yage Home"><span>Home</span></a></li>
			<li><a href="http://www.yage3d.net/wiki" title="Yage Wiki"><span>Wiki</span></a></li>
			<li><a href="http://dsource.org/forums/viewforum.php?f=110" title="Yage Forum"><span>Forum</span></a></li>
			<li><a href="yage.all.html" title="Yage API Documentation"><span>API</span></a></li>
		  </ul>
		</div>
	  </div>
	</div>
	
	 <!-- Images at top of page -->
	<table cellpadding="0" cellspacing="0" width="100%">
	  <!-- Upper part -->
	  <tr>
		<td width="75%" style="background: url('img/title-stretch.png') repeat-x"></td>
		<td><img src="img/title-right.png" alt="" height="102" style="vertical-align: top;"></td>
		<td width="25%" valign="top" style="background: url('img/title-right-stretch.png') repeat-x">
		  <img src="img/title-right-gear.png" style="float: right;" alt="">
		</td>
	  </tr>
	  <!-- Bar Beneath Main title -->
	  <tr>
		<td width="100%" colspan="4">	      
		  <table cellpadding="0" cellspacing="0" width="100%">
			<tr>
			  <td width="100%" style="background: url('img/bar-stretch.png') repeat-x; height: 9px;"></td>
			  <td valign="top"><img src="img/search.png" alt="" style="vertical-align: top"></td>
			  <td width="100%" style="background: url('img/search-stretch.png') repeat-x;">	            
				<!-- Use Google search for now -->        
				<form method="GET" action="http://www.google.com/search" style="padding: 2px;">
				  <input type="hidden" name="ie" value="UTF-8">
				  <input type="hidden" name="oe" value="UTF-8">
				  <input type="hidden" name="domains" value="www.yage3d.net">
				  <input type="hidden" name="sitesearch" value="www.yage3d.net">
				  <input type="text" name="q" value="" style="width: 8em;"><span>
				  <input type="submit" name="btnG" value="Search" style="width: 5em;"></span>
				</form>
				<div style="width: 14em; height: 1px;"></div>
			  </td>
			</tr>
		  </table>
		</td>
	  </tr>
	</table>
	
	<!-- Content -->
	<table cellpadding="6">
	  <tr>
		<td valign="top">
		  <div id="tabarea"></div>
		  <div id="explorerclient"></div>  
		</td>
		<td valign="top" width="100%">	  
			<div id="content"><script type="text/javascript">explorer.initialize("yage.node.scene");</script>
				<table class="content" width="100%">
					<tr><td id="docbody"><h1>yage.node.scene</h1><!-- Generated by Ddoc from yage\node\scene.d -->
<b>Authors:</b><br>
Eric Poggel
<br><br>
<b>License:</b><br>
<a href="lgpl.txt">LGPL</a>
 
<br><br>


<script type="text/javascript">explorer.outline.incSymbolLevel();</script>
<dl>
<script type="text/javascript">explorer.outline.writeEnabled = true;</script>
<dt><span class="decl">class 
<span class="currsymbol">Scene</span>
<script type="text/javascript">explorer.outline.addDecl('Scene');</script>
: yage.node.base.BaseNode;
</span></dt>
<script type="text/javascript">explorer.outline.writeEnabled = false;</script>

<dd>A 
<span class="currsymbol">Scene</span>
<script type="text/javascript">explorer.outline.addDecl('Scene');</script>
 is the root of a tree of Nodes, and obviously, a 
<span class="currsymbol">Scene</span>
<script type="text/javascript">explorer.outline.addDecl('Scene');</script>
 never has a parent.
 Certain "global" variables are stored per 
<span class="currsymbol">Scene</span>
<script type="text/javascript">explorer.outline.addDecl('Scene');</script>
 and affect all Nodes in that
 
<span class="currsymbol">Scene</span>
<script type="text/javascript">explorer.outline.addDecl('Scene');</script>
.  Examples include global ambient lighting and the speed of sound.
 Scenes also maintain an array of all lights in them.
<br><br>
Each 
<span class="currsymbol">Scene</span>
<script type="text/javascript">explorer.outline.addDecl('Scene');</script>
 can also be thought to exist in its own thread.  start() and stop()
 control the updating of all child nodes at a fixed frequency.

<br><br>
<b>Example:</b><br>
<pre class="d_code"> <b>Scene</b> scene = <font color=blue>new</font> <b>Scene</b>();
 scene.start(90);                       <font color=green>// Start the scene updater at 90 times per second.
</font> <font color=blue>scope</font>(exit)scene.stop();               <font color=green>// Ensure it stops later.
</font>
 <b>Scene</b> skybox = <font color=blue>new</font> <b>Scene</b>();            <font color=green>// Create a skybox for the scene.
</font> ModelNode sky = <font color=blue>new</font> ModelNode(skybox); <font color=green>// A model with all faces pointing inward.
</font> sky.setModel(<span style="color: purple">"sky/sanctuary.ms3d"</span>);    <font color=green>// Use this 3D model as geometry for the skybox.
</font> scene.setSkybox(skybox);
</pre>
 
<br><br>


<script type="text/javascript">explorer.outline.incSymbolLevel();</script>
<dl>
<script type="text/javascript">explorer.outline.writeEnabled = true;</script>
<dt><span class="decl">this();
</span></dt>
<script type="text/javascript">explorer.outline.writeEnabled = false;</script>

<dd>Construct an empty Scene.
<br><br>

</dd>

<script type="text/javascript">explorer.outline.writeEnabled = true;</script>
<dt><span class="decl">LightNode[] 
<span class="currsymbol">getLights</span>
<script type="text/javascript">explorer.outline.addDecl('getLights');</script>
();
</span></dt>
<script type="text/javascript">explorer.outline.writeEnabled = false;</script>

<dd>Get an array that contains all lights that are children of this Scene.
<br><br>

</dd>

<script type="text/javascript">explorer.outline.writeEnabled = true;</script>
<dt><span class="decl">Vec!(float,4)  
<span class="currsymbol">getClearColor</span>
<script type="text/javascript">explorer.outline.addDecl('getClearColor');</script>
();
</span></dt>
<script type="text/javascript">explorer.outline.writeEnabled = false;</script>

<dd><br><br>
</dd>

<script type="text/javascript">explorer.outline.writeEnabled = true;</script>
<dt><span class="decl">float 
<span class="currsymbol">getDeltaTime</span>
<script type="text/javascript">explorer.outline.addDecl('getDeltaTime');</script>
();
</span></dt>
<script type="text/javascript">explorer.outline.writeEnabled = false;</script>

<dd>Return the amount of time since the last time update() was called for this Scene.
<br><br>

</dd>

<script type="text/javascript">explorer.outline.writeEnabled = true;</script>
<dt><span class="decl">Vec!(float,4)  
<span class="currsymbol">getFogColor</span>
<script type="text/javascript">explorer.outline.addDecl('getFogColor');</script>
();
</span></dt>
<script type="text/javascript">explorer.outline.writeEnabled = false;</script>

<dd><br><br>
</dd>

<script type="text/javascript">explorer.outline.writeEnabled = true;</script>
<dt><span class="decl">float 
<span class="currsymbol">getFogDensity</span>
<script type="text/javascript">explorer.outline.addDecl('getFogDensity');</script>
();
</span></dt>
<script type="text/javascript">explorer.outline.writeEnabled = false;</script>

<dd><br><br>
</dd>

<script type="text/javascript">explorer.outline.writeEnabled = true;</script>
<dt><span class="decl">bool 
<span class="currsymbol">getFogEnabled</span>
<script type="text/javascript">explorer.outline.addDecl('getFogEnabled');</script>
();
</span></dt>
<script type="text/javascript">explorer.outline.writeEnabled = false;</script>

<dd><br><br>
</dd>

<script type="text/javascript">explorer.outline.writeEnabled = true;</script>
<dt><span class="decl">Vec!(float,4)  
<span class="currsymbol">getGlobalAmbient</span>
<script type="text/javascript">explorer.outline.addDecl('getGlobalAmbient');</script>
();
</span></dt>
<script type="text/javascript">explorer.outline.writeEnabled = false;</script>

<dd><br><br>
</dd>

<script type="text/javascript">explorer.outline.writeEnabled = true;</script>
<dt><span class="decl">Scene 
<span class="currsymbol">getSkybox</span>
<script type="text/javascript">explorer.outline.addDecl('getSkybox');</script>
();
</span></dt>
<script type="text/javascript">explorer.outline.writeEnabled = false;</script>

<dd>Get the Scene that is used as the skybox.
<br><br>

</dd>

<script type="text/javascript">explorer.outline.writeEnabled = true;</script>
<dt><span class="decl">float 
<span class="currsymbol">getSpeedOfSound</span>
<script type="text/javascript">explorer.outline.addDecl('getSpeedOfSound');</script>
();
</span></dt>
<script type="text/javascript">explorer.outline.writeEnabled = false;</script>

<dd><br><br>
</dd>

<script type="text/javascript">explorer.outline.writeEnabled = true;</script>
<dt><span class="decl">real 
<span class="currsymbol">getStartTime</span>
<script type="text/javascript">explorer.outline.addDecl('getStartTime');</script>
();
</span></dt>
<script type="text/javascript">explorer.outline.writeEnabled = false;</script>

<dd>Get the the number of seconds since the last time start() was called.
<br><br>

</dd>

<script type="text/javascript">explorer.outline.writeEnabled = true;</script>
<dt><span class="decl">int 
<span class="currsymbol">getUpdateCount</span>
<script type="text/javascript">explorer.outline.addDecl('getUpdateCount');</script>
();
</span></dt>
<script type="text/javascript">explorer.outline.writeEnabled = false;</script>

<dd>Get the number of times the Scene has been updated since start() was called.
<br><br>

</dd>

<script type="text/javascript">explorer.outline.writeEnabled = true;</script>
<dt><span class="decl">void 
<span class="currsymbol">setClearColor</span>
<script type="text/javascript">explorer.outline.addDecl('setClearColor');</script>
(Vec!(float,4) <span class="funcparam">color</span>);
<br>void 
<span class="currsymbol">setClearColor</span>
<script type="text/javascript">explorer.outline.addDecl('setClearColor');</script>
(float <span class="funcparam">r</span>, float <span class="funcparam">g</span>, float <span class="funcparam">b</span>);
</span></dt>
<script type="text/javascript">explorer.outline.writeEnabled = false;</script>

<dd>Set the background <span class="funcparam">color</span> when no skybox is specified.
<br><br>

</dd>

<script type="text/javascript">explorer.outline.writeEnabled = true;</script>
<dt><span class="decl">void 
<span class="currsymbol">setFogColor</span>
<script type="text/javascript">explorer.outline.addDecl('setFogColor');</script>
(Vec!(float,4) <span class="funcparam">fog_color</span>);
<br>void 
<span class="currsymbol">setFogColor</span>
<script type="text/javascript">explorer.outline.addDecl('setFogColor');</script>
(float <span class="funcparam">r</span>, float <span class="funcparam">g</span>, float <span class="funcparam">b</span>);
</span></dt>
<script type="text/javascript">explorer.outline.writeEnabled = false;</script>

<dd>Set the color of fog, when fog is enabled.
<br><br>

</dd>

<script type="text/javascript">explorer.outline.writeEnabled = true;</script>
<dt><span class="decl">void 
<span class="currsymbol">setFogDensity</span>
<script type="text/javascript">explorer.outline.addDecl('setFogDensity');</script>
(float <span class="funcparam">density</span>);
</span></dt>
<script type="text/javascript">explorer.outline.writeEnabled = false;</script>

<dd>Set the thickness (<span class="funcparam">density</span>) of the Scene's global fog, when fog is enabled.
 Depending on the scale of your scene, decent values range between .001 and .1.
<br><br>

</dd>

<script type="text/javascript">explorer.outline.writeEnabled = true;</script>
<dt><span class="decl">void 
<span class="currsymbol">setFogEnabled</span>
<script type="text/javascript">explorer.outline.addDecl('setFogEnabled');</script>
(bool <span class="funcparam">enabled</span>);
</span></dt>
<script type="text/javascript">explorer.outline.writeEnabled = false;</script>

<dd>Enable global distance fog for this scene.
 For best results, use no skybox and set the clear color the same as the fog color.
 For improved performance, set the cameras' max view distance to just beyond
 where objects become completely obscured by the fog. 
<br><br>

</dd>

<script type="text/javascript">explorer.outline.writeEnabled = true;</script>
<dt><span class="decl">void 
<span class="currsymbol">setGlobalAmbient</span>
<script type="text/javascript">explorer.outline.addDecl('setGlobalAmbient');</script>
(Vec!(float,4) <span class="funcparam">ambient</span>);
<br>void 
<span class="currsymbol">setGlobalAmbient</span>
<script type="text/javascript">explorer.outline.addDecl('setGlobalAmbient');</script>
(float <span class="funcparam">r</span>, float <span class="funcparam">g</span>, float <span class="funcparam">b</span>, float <span class="funcparam">a</span> = cast(float)1);
</span></dt>
<script type="text/javascript">explorer.outline.writeEnabled = false;</script>

<dd>Set the color of the scene's global <span class="funcparam">ambient</span> light.
<br><br>

</dd>

<script type="text/javascript">explorer.outline.writeEnabled = true;</script>
<dt><span class="decl">void 
<span class="currsymbol">setSkybox</span>
<script type="text/javascript">explorer.outline.addDecl('setSkybox');</script>
(Scene <span class="funcparam">_skybox</span>);
</span></dt>
<script type="text/javascript">explorer.outline.writeEnabled = false;</script>

<dd>A Scene can have another heirarchy of nodes that will be
 rendered as a skybox by any camera. 
<br><br>

</dd>

<script type="text/javascript">explorer.outline.writeEnabled = true;</script>
<dt><span class="decl">void 
<span class="currsymbol">setSpeedOfSound</span>
<script type="text/javascript">explorer.outline.addDecl('setSpeedOfSound');</script>
(float <span class="funcparam">speed</span>);
</span></dt>
<script type="text/javascript">explorer.outline.writeEnabled = false;</script>

<dd>Set the <span class="funcparam">speed</span> of sound variable that will be passed to OpenAL.
<br><br>

</dd>

<script type="text/javascript">explorer.outline.writeEnabled = true;</script>
<dt><span class="decl">void 
<span class="currsymbol">setUpdateCount</span>
<script type="text/javascript">explorer.outline.addDecl('setUpdateCount');</script>
(int <span class="funcparam">count</span>);
</span></dt>
<script type="text/javascript">explorer.outline.writeEnabled = false;</script>

<dd>Set the target for update the number of updates.
 A number higher than the current <span class="funcparam">count</span> will cause the Updater to pause until
 enough time has passed that the update counter should be at that <span class="funcparam">count</span>.
 A number smaller than the current <span class="funcparam">count</span> will cause the updater to repeatedly
 update until the <span class="funcparam">count</span> is back to what it should be. 
<br><br>

</dd>

<script type="text/javascript">explorer.outline.writeEnabled = true;</script>
<dt><span class="decl">synchronized void 
<span class="currsymbol">start</span>
<script type="text/javascript">explorer.outline.addDecl('start');</script>
(float <span class="funcparam">frequency</span> = cast(float)90);
</span></dt>
<script type="text/javascript">explorer.outline.writeEnabled = false;</script>

<dd>Start updating the positions and rotations of all Nodes in this Scene.
 Each Scene is updated in its own thread.  If the updating thread
 gets behind, it will always attempt to catch up.
<br><br>
<b>Params:</b><br>
<table><tr>
<td nowrap valign="top" style="padding-right: 8px">float <span class="funcparam">frequency</span></td>

               
<td>The scene will be updated this many times per second.</td></tr>
</table><br>

</dd>

<script type="text/javascript">explorer.outline.writeEnabled = true;</script>
<dt><span class="decl">synchronized void 
<span class="currsymbol">stop</span>
<script type="text/javascript">explorer.outline.addDecl('stop');</script>
();
</span></dt>
<script type="text/javascript">explorer.outline.writeEnabled = false;</script>

<dd>Stop updating the Scene.
<br><br>

</dd>

<script type="text/javascript">explorer.outline.writeEnabled = true;</script>
<dt><span class="decl">synchronized void 
<span class="currsymbol">swapTransformRead</span>
<script type="text/javascript">explorer.outline.addDecl('swapTransformRead');</script>
();
</span></dt>
<script type="text/javascript">explorer.outline.writeEnabled = false;</script>

<dd>Swap the transform buffer cache for each Node to the latest that's not currently
 being written to.
<br><br>

</dd>

<script type="text/javascript">explorer.outline.writeEnabled = true;</script>
<dt><span class="decl">synchronized void 
<span class="currsymbol">swapTransformWrite</span>
<script type="text/javascript">explorer.outline.addDecl('swapTransformWrite');</script>
();
</span></dt>
<script type="text/javascript">explorer.outline.writeEnabled = false;</script>

<dd>Start writing to the transform buffer cache that's not currently being read.
<br><br>

</dd>

<script type="text/javascript">explorer.outline.writeEnabled = true;</script>
<dt><span class="decl">void 
<span class="currsymbol">update</span>
<script type="text/javascript">explorer.outline.addDecl('update');</script>
();
</span></dt>
<script type="text/javascript">explorer.outline.writeEnabled = false;</script>

<dd>Update all Nodes by the time that has passed since 
<span class="currsymbol">update</span>
<script type="text/javascript">explorer.outline.addDecl('update');</script>
() was last called.
<br><br>

</dd>

<script type="text/javascript">explorer.outline.writeEnabled = true;</script>
<dt><span class="decl">void 
<span class="currsymbol">update</span>
<script type="text/javascript">explorer.outline.addDecl('update');</script>
(float <span class="funcparam">delta</span>);
</span></dt>
<script type="text/javascript">explorer.outline.writeEnabled = false;</script>

<dd>Update all Nodes in the scene by <span class="funcparam">delta</span> seconds.
<br><br>

</dd>
</dl>
<script type="text/javascript">explorer.outline.decSymbolLevel();</script>


</dd>
</dl>
<script type="text/javascript">explorer.outline.decSymbolLevel();</script>


</td></tr>
				</table>
			</div>
		</td>  
	  </tr>
	</table>
	<div id="docfooter">
		Yage and all source files &copy; 2005-2007 Eric Poggel<br>
		Documentation generated with <a href="http://www.dsource.org/projects/helix/wiki/CandyDoc">
		<img src="img/candydoc.gif" alt="CandyDoc" style="vertical-align:middle; top:-1px"></a>
		on Sat May 26 23:07:48 2007

	</div>
	
	<script type="text/javascript">
	explorer.packageExplorer.addModule("index");

	explorer.packageExplorer.addModule("yage.all");

	explorer.packageExplorer.addModule("yage.core.all");

	explorer.packageExplorer.addModule("yage.core.array");

	explorer.packageExplorer.addModule("yage.core.freelist");

	explorer.packageExplorer.addModule("yage.core.matrix");

	explorer.packageExplorer.addModule("yage.core.misc");

	explorer.packageExplorer.addModule("yage.core.parse");

	explorer.packageExplorer.addModule("yage.core.plane");

	explorer.packageExplorer.addModule("yage.core.quatrn");

	explorer.packageExplorer.addModule("yage.core.repeater");

	explorer.packageExplorer.addModule("yage.core.timer");

	explorer.packageExplorer.addModule("yage.core.vector");

	explorer.packageExplorer.addModule("yage.core.xml");

	explorer.packageExplorer.addModule("yage.gameobj");

	explorer.packageExplorer.addModule("yage.main");

	explorer.packageExplorer.addModule("yage.node.all");

	explorer.packageExplorer.addModule("yage.node.base");

	explorer.packageExplorer.addModule("yage.node.camera");

	explorer.packageExplorer.addModule("yage.node.graph");

	explorer.packageExplorer.addModule("yage.node.light");

	explorer.packageExplorer.addModule("yage.node.model");

	explorer.packageExplorer.addModule("yage.node.moveable");

	explorer.packageExplorer.addModule("yage.node.node");

	explorer.packageExplorer.addModule("yage.node.scene");

	explorer.packageExplorer.addModule("yage.node.sound");

	explorer.packageExplorer.addModule("yage.node.sprite");

	explorer.packageExplorer.addModule("yage.node.terrain");

	explorer.packageExplorer.addModule("yage.resource.all");

	explorer.packageExplorer.addModule("yage.resource.image");

	explorer.packageExplorer.addModule("yage.resource.layer");

	explorer.packageExplorer.addModule("yage.resource.material");

	explorer.packageExplorer.addModule("yage.resource.mesh");

	explorer.packageExplorer.addModule("yage.resource.model");

	explorer.packageExplorer.addModule("yage.resource.modelloader");

	explorer.packageExplorer.addModule("yage.resource.resource");

	explorer.packageExplorer.addModule("yage.resource.shader");

	explorer.packageExplorer.addModule("yage.resource.sound");

	explorer.packageExplorer.addModule("yage.resource.texture");

	explorer.packageExplorer.addModule("yage.ship");

	explorer.packageExplorer.addModule("yage.system.all");

	explorer.packageExplorer.addModule("yage.system.constant");

	explorer.packageExplorer.addModule("yage.system.device");

	explorer.packageExplorer.addModule("yage.system.input");

	explorer.packageExplorer.addModule("yage.system.log");

	explorer.packageExplorer.addModule("yage.system.render");

	explorer.packageExplorer.addModule("yage.universe");

	explorer.packageExplorer.addModule("yage.util.all");

	explorer.packageExplorer.addModule("yage.util.flyer");

	explorer.packageExplorer.addModule("yage.util.misc");

	explorer.packageExplorer.addModule("yage.util.spring");
</script>
  </body>
</html>

