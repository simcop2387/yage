<html><head>
	<META http-equiv="content-type" content="text/html; charset=utf-8">
	<title>yage.node.scene</title>
	</head><body>
	<h1>yage.node.scene</h1>
	<!-- Generated by Ddoc from yage\node\scene.d -->
<b>Authors:</b><br>
Eric Poggel
<br><br>
<b>License:</b><br>
<a href="lgpl.txt">LGPL</a>
 
<br><br>

<dl><dt><big>class <u>Scene</u>: yage.node.base.BaseNode;
</big></dt>
<dd>A <u>Scene</u> is the root of a tree of Nodes, and obviously, a <u>Scene</u> never has a parent.
 Certain "global" variables are stored per <u>Scene</u> and affect all Nodes in that
 <u>Scene</u>.  Examples include global ambient lighting and the speed of sound.
 Scenes also maintain an array of all lights in them.
<br><br>
Each <u>Scene</u> can also be thought to exist in its own thread.  start() and stop()
 control the updating of all child nodes at a fixed frequency.

<br><br>
<b>Example:</b><br>
<pre class="d_code"> <u>Scene</u> scene = <font color=blue>new</font> <u>Scene</u>();
 scene.start(90);                       <font color=green>// Start the scene updater at 90 times per second.
</font> <font color=blue>scope</font>(exit)scene.stop();               <font color=green>// Ensure it stops later.
</font>
 <u>Scene</u> skybox = <font color=blue>new</font> <u>Scene</u>();            <font color=green>// Create a skybox for the scene.
</font> ModelNode sky = <font color=blue>new</font> ModelNode(skybox); <font color=green>// A model with all faces pointing inward.
</font> sky.setModel(<font color=red>"sky/sanctuary.ms3d"</font>);    <font color=green>// Use this 3D model as geometry for the skybox.
</font> scene.setSkybox(skybox);
</pre>
 
<br><br>

<dl><dt><big>this();
</big></dt>
<dd>Construct an empty Scene.
<br><br>

</dd>
<dt><big>LightNode[] <u>getLights</u>();
</big></dt>
<dd>Get an array that contains all lights that are children of this Scene.
<br><br>

</dd>
<dt><big>Vec!(float,4)  <u>getClearColor</u>();
</big></dt>
<dd><br><br>
</dd>
<dt><big>float <u>getDeltaTime</u>();
</big></dt>
<dd>Return the amount of time since the last time update() was called for this Scene.
<br><br>

</dd>
<dt><big>Vec!(float,4)  <u>getFogColor</u>();
</big></dt>
<dd><br><br>
</dd>
<dt><big>float <u>getFogDensity</u>();
</big></dt>
<dd><br><br>
</dd>
<dt><big>bool <u>getFogEnabled</u>();
</big></dt>
<dd><br><br>
</dd>
<dt><big>Vec!(float,4)  <u>getGlobalAmbient</u>();
</big></dt>
<dd><br><br>
</dd>
<dt><big>Scene <u>getSkybox</u>();
</big></dt>
<dd>Get the Scene that is used as the skybox.
<br><br>

</dd>
<dt><big>float <u>getSpeedOfSound</u>();
</big></dt>
<dd><br><br>
</dd>
<dt><big>real <u>getStartTime</u>();
</big></dt>
<dd>Get the the number of seconds since the last time start() was called.
<br><br>

</dd>
<dt><big>int <u>getUpdateCount</u>();
</big></dt>
<dd>Get the number of times the Scene has been updated since start() was called.
<br><br>

</dd>
<dt><big>void <u>setClearColor</u>(Vec!(float,4) <i>color</i>);
<br>void <u>setClearColor</u>(float <i>r</i>, float <i>g</i>, float <i>b</i>);
</big></dt>
<dd>Set the background <i>color</i> when no skybox is specified.
<br><br>

</dd>
<dt><big>void <u>setFogColor</u>(Vec!(float,4) <i>fog_color</i>);
<br>void <u>setFogColor</u>(float <i>r</i>, float <i>g</i>, float <i>b</i>);
</big></dt>
<dd>Set the color of fog, when fog is enabled.
<br><br>

</dd>
<dt><big>void <u>setFogDensity</u>(float <i>density</i>);
</big></dt>
<dd>Set the thickness (<i>density</i>) of the Scene's global fog, when fog is enabled.
 Depending on the scale of your scene, decent values range between .001 and .1.
<br><br>

</dd>
<dt><big>void <u>setFogEnabled</u>(bool <i>enabled</i>);
</big></dt>
<dd>Enable global distance fog for this scene.
 For best results, use no skybox and set the clear color the same as the fog color.
 For improved performance, set the cameras' max view distance to just beyond
 where objects become completely obscured by the fog. 
<br><br>

</dd>
<dt><big>void <u>setGlobalAmbient</u>(Vec!(float,4) <i>ambient</i>);
<br>void <u>setGlobalAmbient</u>(float <i>r</i>, float <i>g</i>, float <i>b</i>, float <i>a</i> = cast(float)1);
</big></dt>
<dd>Set the color of the scene's global <i>ambient</i> light.
<br><br>

</dd>
<dt><big>void <u>setSkybox</u>(Scene <i>_skybox</i>);
</big></dt>
<dd>A Scene can have another heirarchy of nodes that will be
 rendered as a skybox by any camera. 
<br><br>

</dd>
<dt><big>void <u>setSpeedOfSound</u>(float <i>speed</i>);
</big></dt>
<dd>Set the <i>speed</i> of sound variable that will be passed to OpenAL.
<br><br>

</dd>
<dt><big>void <u>setUpdateCount</u>(int <i>count</i>);
</big></dt>
<dd>Set the target for update the number of updates.
 A number higher than the current <i>count</i> will cause the Updater to pause until
 enough time has passed that the update counter should be at that <i>count</i>.
 A number smaller than the current <i>count</i> will cause the updater to repeatedly
 update until the <i>count</i> is back to what it should be. 
<br><br>

</dd>
<dt><big>synchronized void <u>start</u>(float <i>frequency</i> = cast(float)90);
</big></dt>
<dd>Start updating the positions and rotations of all Nodes in this Scene.
 Each Scene is updated in its own thread.  If the updating thread
 gets behind, it will always attempt to catch up.
<br><br>
<b>Params:</b><br>
<table><tr><td>float <i>frequency</i></td>
<td>The scene will be updated this many times per second.</td></tr>
</table><br>

</dd>
<dt><big>synchronized void <u>stop</u>();
</big></dt>
<dd>Stop updating the Scene.
<br><br>

</dd>
<dt><big>synchronized void <u>swapTransformRead</u>();
</big></dt>
<dd>Swap the transform buffer cache for each Node to the latest that's not currently
 being written to.
<br><br>

</dd>
<dt><big>synchronized void <u>swapTransformWrite</u>();
</big></dt>
<dd>Start writing to the transform buffer cache that's not currently being read.
<br><br>

</dd>
<dt><big>void <u>update</u>();
</big></dt>
<dd>Update all Nodes by the time that has passed since <u>update</u>() was last called.
<br><br>

</dd>
<dt><big>void <u>update</u>(float <i>delta</i>);
</big></dt>
<dd>Update all Nodes in the scene by <i>delta</i> seconds.
<br><br>

</dd>
</dl>
</dd>
</dl>

	<hr><small>Page generated by <a href="http://www.digitalmars.com/d/ddoc.html">Ddoc</a>. (c) 2005-2007 Eric Poggel
</small>
	</body></html>
