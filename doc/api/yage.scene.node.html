
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
  <head>
	<meta http-equiv="content-type" content="text/html; charset=utf-8">
	<meta content="text/javascript" http-equiv="content-script-type">
	<title>yage.scene.node</title>
	<link rel="stylesheet" type="text/css" href="css/default.css">
	<link rel="stylesheet" type="text/css" href="css/candydoc.css">
	<link rel="stylesheet" type="text/css" href="css/menu.css">
	<script language="JavaScript" src="js/util.js" type="text/javascript"></script>
	<script language="JavaScript" src="js/tree.js" type="text/javascript"></script>
	<script language="JavaScript" src="js/explorer.js" type="text/javascript"></script>
  </head>
  <body>
	<!-- Title Image -->  
	<div style="position: absolute; z-index: 2;">
	  <a href="index.php"><img src="img/title.png" alt="Yage3D.net" border="0"></a>
	</div>
	
	<!-- Menu -->
	<div style="position: absolute;	height: 87px; width: 100%;">
	  <div style="position: absolute; bottom: 0px;">
		<div id="slidetabsmenu">
		  <ul>
			<li><a href="http://www.yage3d.net" title="Yage Home"><span>Home</span></a></li>
			<li><a href="http://www.yage3d.net/wiki" title="Yage Wiki"><span>Wiki</span></a></li>
			<li><a href="http://dsource.org/forums/viewforum.php?f=110" title="Yage Forum"><span>Forum</span></a></li>
			<li><a href="yage.all.html" title="Yage API Documentation"><span>API</span></a></li>
		  </ul>
		</div>
	  </div>
	</div>
	
	 <!-- Images at top of page -->
	<table cellpadding="0" cellspacing="0" width="100%">
	  <!-- Upper part -->
	  <tr>
		<td width="75%" style="background: url('img/title-stretch.png') repeat-x"></td>
		<td><img src="img/title-right.png" alt="" height="102" style="vertical-align: top;"></td>
		<td width="25%" valign="top" style="background: url('img/title-right-stretch.png') repeat-x">
		  <img src="img/title-right-gear.png" style="float: right;" alt="">
		</td>
	  </tr>
	  <!-- Bar Beneath Main title -->
	  <tr>
		<td width="100%" colspan="4">	      
		  <table cellpadding="0" cellspacing="0" width="100%">
			<tr>
			  <td width="100%" style="background: url('img/bar-stretch.png') repeat-x; height: 9px;"></td>
			  <td valign="top"><img src="img/search.png" alt="" style="vertical-align: top"></td>
			  <td width="100%" style="background: url('img/search-stretch.png') repeat-x;">	            
				<!-- Use Google search for now -->        
				<form method="GET" action="http://www.google.com/search" style="padding: 2px;">
				  <input type="hidden" name="ie" value="UTF-8">
				  <input type="hidden" name="oe" value="UTF-8">
				  <input type="hidden" name="domains" value="www.yage3d.net">
				  <input type="hidden" name="sitesearch" value="www.yage3d.net">
				  <input type="text" name="q" value="" style="width: 8em;"><span>
				  <input type="submit" name="btnG" value="Search" style="width: 5em;"></span>
				</form>
				<div style="width: 14em; height: 1px;"></div>
			  </td>
			</tr>
		  </table>
		</td>
	  </tr>
	</table>
	
	<!-- Content -->
	<table cellpadding="6">
	  <tr>
		<td valign="top">
		  <div id="tabarea"></div>
		  <div id="explorerclient"></div>  
		</td>
		<td valign="top" width="100%">	  
			<div id="content"><script type="text/javascript">explorer.initialize("yage.scene.node");</script>
				<table class="content" width="100%">
					<tr><td id="docbody"><h1>yage.scene.node</h1><!-- Generated by Ddoc from yage\scene\node.d -->
<b>Authors:</b><br>
Eric Poggel
<br><br>
<b>License:</b><br>
<a href="lgpl.txt">LGPL</a>
 
<br><br>


<script type="text/javascript">explorer.outline.incSymbolLevel();</script>
<dl>
<script type="text/javascript">explorer.outline.writeEnabled = true;</script>
<dt><span class="decl">class 
<span class="currsymbol">Node</span>
<script type="text/javascript">explorer.outline.addDecl('Node');</script>
: yage.core.tree.Tree!(Node).Tree;
</span></dt>
<script type="text/javascript">explorer.outline.writeEnabled = false;</script>

<dd>Nodes are used for building scene graphs in Yage.
 Every node has an array of child nodes as well as a parent node, with
 the exception of a Scene that exists at the top of the scene graph and has no parent.
 When one node is moved or rotated, all of its child nodes move and rotate as well.
 Likewise, setting the position or rotation of a node does so relative to its parent.
 Rendering is done recursively from the Scene down through every child node.
 Likewise, updating of position and rotation occurs recursively from Scene's update() method.
<br><br>
All other Nodes extend this class.
 Methods for modifying the hierarchy of Nodes (parents, children) are defined here.

<br><br>
<b>Example:</b><br>
<pre class="d_code"> Scene s = <font color=blue>new</font> Scene();
 ModelNode a = s.addChild(<font color=blue>new</font> ModelNode());   <font color=green>// a is a child of s, it exists in Scene s.
</font> a.setPosition(3, 5, 0);           <font color=green>// Position is set relative to 0, 0, 0 of the entire scene.
</font> a.setRotation(0, 3.14, 0);        <font color=green>// a is rotated PI radians (180 degrees) around the Y axis.
</font>
 SpriteNode b = <font color=blue>new</font> SpriteNode(a); <font color=green>// b is a child of a, therefore,
</font> b.setPosition(5, 0, 0);           <font color=green>// its positoin and rotation are relative to a's.
</font> b.getAbsolutePosition();          <font color=green>// Returns Vec3f(-2, 5, 0), b's position relative to the origin.
</font>
 s.addChild(b);                    <font color=green>// b is now a child of s.
</font> b.getAbsolutePosition();          <font color=green>// Returns Vec3f(5, 0, 0), since it's position is relative
</font>                                   <font color=green>// to 0, 0, 0, instead of a.
</font></pre>
 
<br><br>


<script type="text/javascript">explorer.outline.incSymbolLevel();</script>
<dl>
<script type="text/javascript">explorer.outline.writeEnabled = true;</script>
<dt><span class="decl">this();
</span></dt>
<script type="text/javascript">explorer.outline.writeEnabled = false;</script>

<dd>Constructor
<br><br>

</dd>

<script type="text/javascript">explorer.outline.writeEnabled = true;</script>
<dt><span class="decl">T 
<span class="currsymbol">addChild</span>
<script type="text/javascript">explorer.outline.addDecl('addChild');</script>
(T : Node)(T <span class="funcparam">child</span>);
</span></dt>
<script type="text/javascript">explorer.outline.writeEnabled = false;</script>

<dd>Overridden from Tree to mark transform dirty.
<br><br>
<b>Returns:</b><br>
The child parameter.  Templating is used to ensure the return type is exactly the same.
<br><br>

</dd>

<script type="text/javascript">explorer.outline.writeEnabled = true;</script>
<dt><span class="decl">Node 
<span class="currsymbol">clone</span>
<script type="text/javascript">explorer.outline.addDecl('clone');</script>
(bool <span class="funcparam">children</span> = false);
</span></dt>
<script type="text/javascript">explorer.outline.writeEnabled = false;</script>

<dd>Make a duplicate of this node, unattached to any parent Node.
<br><br>
<b>Params:</b><br>
<table><tr>
<td nowrap valign="top" style="padding-right: 8px">bool <span class="funcparam">children</span></td>

               
<td>recursively 
<span class="currsymbol">clone</span>
<script type="text/javascript">explorer.outline.addDecl('clone');</script>
 <span class="funcparam">children</span> (and descendants) and add them as <span class="funcparam">children</span> to the new Node.</td></tr>
</table><br>
<b>Returns:</b><br>
The cloned Node. 
<br><br>

</dd>

<script type="text/javascript">explorer.outline.writeEnabled = true;</script>
<dt><span class="decl">float 
<span class="currsymbol">getLifetime</span>
<script type="text/javascript">explorer.outline.addDecl('getLifetime');</script>
();
<br>void 
<span class="currsymbol">setLifetime</span>
<script type="text/javascript">explorer.outline.addDecl('setLifetime');</script>
(float <span class="funcparam">seconds</span>);
</span></dt>
<script type="text/javascript">explorer.outline.writeEnabled = false;</script>

<dd>Get / set the lifeime of a Node (in seconds).
 The default lifetime is float.infinity.  A lower number will cause the Node to be removed
 from the scene graph after that amount of time.
 It's lifetime is decreased every time update() is called (usually by the Node's scene).
<br><br>

</dd>

<script type="text/javascript">explorer.outline.writeEnabled = true;</script>
<dt><span class="decl">Scene 
<span class="currsymbol">getScene</span>
<script type="text/javascript">explorer.outline.addDecl('getScene');</script>
();
</span></dt>
<script type="text/javascript">explorer.outline.writeEnabled = false;</script>

<dd>Get the Scene at the top of the tree that this node belongs to, or null
 if this is part of a scene-less node tree.
<br><br>

</dd>

<script type="text/javascript">explorer.outline.writeEnabled = true;</script>
<dt><span class="decl">char[] 
<span class="currsymbol">getType</span>
<script type="text/javascript">explorer.outline.addDecl('getType');</script>
();
</span></dt>
<script type="text/javascript">explorer.outline.writeEnabled = false;</script>

<dd>Get the type of this Node as a string; i.e. "yage.scene.visible.ModelNode".
<br><br>

</dd>

<script type="text/javascript">explorer.outline.writeEnabled = true;</script>
<dt><span class="decl">bool 
<span class="currsymbol">getVisible</span>
<script type="text/javascript">explorer.outline.addDecl('getVisible');</script>
();
</span></dt>
<script type="text/javascript">explorer.outline.writeEnabled = false;</script>

<dd>Always returns false
 for Nodes but can be true
 for subtypes..
<br><br>

</dd>

<script type="text/javascript">explorer.outline.writeEnabled = true;</script>
<dt><span class="decl">char[] 
<span class="currsymbol">toString</span>
<script type="text/javascript">explorer.outline.addDecl('toString');</script>
();
</span></dt>
<script type="text/javascript">explorer.outline.writeEnabled = false;</script>

<dd>Return a string representation of this Node for human reading. 
<br><br>

</dd>

<script type="text/javascript">explorer.outline.writeEnabled = true;</script>
<dt><span class="decl">void 
<span class="currsymbol">onUpdate</span>
<script type="text/javascript">explorer.outline.addDecl('onUpdate');</script>
(void delegate(Node self) <span class="funcparam">on_update</span>);
</span></dt>
<script type="text/javascript">explorer.outline.writeEnabled = false;</script>

<dd>Set a function that will be called every time this Node is updated.
 Specifically, the supplied function is called after a Node's matrices
 are updated and before its children are updated and before it's removed if
 it's lifetime is zero.
<br><br>
<b>Params:</b><br>
<table><tr>
<td nowrap valign="top" style="padding-right: 8px">void delegate(Node self) <span class="funcparam">on_update</span></td>

               
<td>the function that will be called.  Use null
 as an argument to clear
 the function.</td></tr>
</table><br>
<b>Example:</b><br>
<pre class="d_code"> SpriteNode s = <font color=blue>new</font> SpriteNode(scene);
 s.setMaterial(<span style="color: purple">"something.xml"</span>);

 <font color=green>// Gradually fade to transparent as lifetime decreases.
</font> <font color=blue>void</font> fade(Node self)
 {   SpriteNode node = <font color=blue>cast</font>(SpriteNode)self;
     node.setColor(1, 1, 1, node.getLifetime()/5);
 }
 s.setLifetime(5);
 s.<b>onUpdate</b>(&amp;fade);
</pre>
<br><br>

</dd>

<script type="text/javascript">explorer.outline.writeEnabled = true;</script>
<dt><span class="decl">void 
<span class="currsymbol">update</span>
<script type="text/javascript">explorer.outline.addDecl('update');</script>
(float <span class="funcparam">delta</span>);
</span></dt>
<script type="text/javascript">explorer.outline.writeEnabled = false;</script>

<dd>Update the positions and rotations of this Node and all children by <span class="funcparam">delta</span> seconds.
<br><br>

</dd>
</dl>
<script type="text/javascript">explorer.outline.decSymbolLevel();</script>


</dd>
</dl>
<script type="text/javascript">explorer.outline.decSymbolLevel();</script>


</td></tr>
				</table>
			</div>
		</td>  
	  </tr>
	</table>
	<div id="docfooter">
		Yage and all source files &copy; 2005-2008 Eric Poggel<br>
		Documentation generated with <a href="http://www.dsource.org/projects/helix/wiki/CandyDoc">
		<img src="img/candydoc.gif" alt="CandyDoc" style="vertical-align:middle; top:-1px"></a>
		on Sat Oct 11 14:33:12 2008

	</div>
	
	<script type="text/javascript">
	explorer.packageExplorer.addModule("yage.all");

	explorer.packageExplorer.addModule("yage.core.all");

	explorer.packageExplorer.addModule("yage.core.array");

	explorer.packageExplorer.addModule("yage.core.async");

	explorer.packageExplorer.addModule("yage.core.color");

	explorer.packageExplorer.addModule("yage.core.freelist");

	explorer.packageExplorer.addModule("yage.core.interfaces");

	explorer.packageExplorer.addModule("yage.core.math");

	explorer.packageExplorer.addModule("yage.core.matrix");

	explorer.packageExplorer.addModule("yage.core.misc");

	explorer.packageExplorer.addModule("yage.core.parse");

	explorer.packageExplorer.addModule("yage.core.plane");

	explorer.packageExplorer.addModule("yage.core.quatrn");

	explorer.packageExplorer.addModule("yage.core.repeater");

	explorer.packageExplorer.addModule("yage.core.timer");

	explorer.packageExplorer.addModule("yage.core.tree");

	explorer.packageExplorer.addModule("yage.core.types");

	explorer.packageExplorer.addModule("yage.core.vector");

	explorer.packageExplorer.addModule("yage.core.xml");

	explorer.packageExplorer.addModule("yage.gui.all");

	explorer.packageExplorer.addModule("yage.gui.style");

	explorer.packageExplorer.addModule("yage.gui.surface");

	explorer.packageExplorer.addModule("yage.resource.all");

	explorer.packageExplorer.addModule("yage.resource.font");

	explorer.packageExplorer.addModule("yage.resource.image");

	explorer.packageExplorer.addModule("yage.resource.layer");

	explorer.packageExplorer.addModule("yage.resource.material");

	explorer.packageExplorer.addModule("yage.resource.mesh");

	explorer.packageExplorer.addModule("yage.resource.model");

	explorer.packageExplorer.addModule("yage.resource.ms3dloader");

	explorer.packageExplorer.addModule("yage.resource.objloader");

	explorer.packageExplorer.addModule("yage.resource.resource");

	explorer.packageExplorer.addModule("yage.resource.shader");

	explorer.packageExplorer.addModule("yage.resource.sound");

	explorer.packageExplorer.addModule("yage.resource.texture");

	explorer.packageExplorer.addModule("yage.scene.all");

	explorer.packageExplorer.addModule("yage.scene.camera");

	explorer.packageExplorer.addModule("yage.scene.graph");

	explorer.packageExplorer.addModule("yage.scene.light");

	explorer.packageExplorer.addModule("yage.scene.model");

	explorer.packageExplorer.addModule("yage.scene.movable");

	explorer.packageExplorer.addModule("yage.scene.node");

	explorer.packageExplorer.addModule("yage.scene.scene");

	explorer.packageExplorer.addModule("yage.scene.sound");

	explorer.packageExplorer.addModule("yage.scene.sprite");

	explorer.packageExplorer.addModule("yage.scene.terrain");

	explorer.packageExplorer.addModule("yage.scene.visible");

	explorer.packageExplorer.addModule("yage.system.all");

	explorer.packageExplorer.addModule("yage.system.constant");

	explorer.packageExplorer.addModule("yage.system.device");

	explorer.packageExplorer.addModule("yage.system.exceptions");

	explorer.packageExplorer.addModule("yage.system.input");

	explorer.packageExplorer.addModule("yage.system.interfaces");

	explorer.packageExplorer.addModule("yage.system.log");

	explorer.packageExplorer.addModule("yage.system.probe");

	explorer.packageExplorer.addModule("yage.system.render");

	explorer.packageExplorer.addModule("yage.system.window");

	explorer.packageExplorer.addModule("yage.util.all");

	explorer.packageExplorer.addModule("yage.util.flyer");

	explorer.packageExplorer.addModule("yage.util.spring");
</script>
  </body>
</html>

