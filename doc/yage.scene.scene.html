
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
  <head>
	<meta http-equiv="content-type" content="text/html; charset=utf-8">
	<meta content="text/javascript" http-equiv="content-script-type">
	<title>yage.scene.scene</title>
	<link rel="stylesheet" type="text/css" href="css/default.css">
	<link rel="stylesheet" type="text/css" href="css/candydoc.css">
	<link rel="stylesheet" type="text/css" href="css/menu.css">
	<script language="JavaScript" src="js/util.js" type="text/javascript"></script>
	<script language="JavaScript" src="js/tree.js" type="text/javascript"></script>
	<script language="JavaScript" src="js/explorer.js" type="text/javascript"></script>
  </head>
  <body>
	<!-- Title Image -->	
	<div style="position: absolute; z-index: 2;">
		<a href="index.php"><img src="img/title.png" alt="Yage3D.net" border="0"></a>
	</div>
	
	<!-- Menu -->
	<div style="position: absolute;	height: 87px; width: 100%;">
		<div style="margin-top: 63px">
		<div id="slidetabsmenu">
			<ul>
			<li><a href="http://yage3d.net" title="Yage Home"><span>Home</span></a></li>
			<li><a href="http://yage3d.net/wiki" title="Yage Wiki"><span>Wiki</span></a></li>
			<li><a href="http://dsource.org/forums/viewforum.php?f=110" title="Yage Forum"><span>Forum</span></a></li>
			<li><a href="index.html" title="Yage API Documentation"><span>API</span></a></li>
			</ul>
		</div>
		</div>
	</div>
	
	 <!-- Images at top of page -->
	<table cellpadding="0" cellspacing="0" width="100%">
		<!-- Upper part -->
		<tr>
			<td width="75%" style="background: url('img/title-stretch.png') repeat-x">&nbsp;</td>
			<td style="background: url('img/title-right-stretch.png') repeat-x">
				<img src="img/title-right.png" alt="" height="102" style="vertical-align: top;"></td>
			<td width="25%" valign="top" style="background: url('img/title-right-stretch.png') repeat-x">
				<img src="img/title-right-gear.png" style="float: right;" alt="">
			</td>
		</tr>
		
		<tr> <!-- Bar Beneath Main title -->
			<td width="100%" colspan="4">				
				<table cellpadding="0" cellspacing="0" width="100%">
					<tr>
						<td width="100%" style="background: url('img/bar-stretch.png') repeat-x; height: 9px;"></td>
						<td valign="top"><img src="img/search.png" alt="" style="vertical-align: top"></td>
						<td width="100%" style="background: url('img/search-stretch.png') repeat-x;">
							<!-- Use Google search for now -->				
							<form method="GET" action="http://www.google.com/search" style="padding: 2px;">
								<input type="hidden" name="ie" value="UTF-8">
								<input type="hidden" name="oe" value="UTF-8">
								<input type="hidden" name="domains" value="www.yage3d.net">
								<input type="hidden" name="sitesearch" value="www.yage3d.net">
								<input type="text" name="q" value="" style="height: 1.1em; width: 8em;"><span>
								<input type="submit" name="btnG" value="Search" style="width: 5em;"></span>
							</form>
							<div style="width: 14em; height: 1px;"></div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>
	
	<!-- Content -->
	<table cellpadding="6">
	  <tr>
		<td valign="top">
		  <div id="tabarea"></div>
		  <div id="explorerclient"></div>  
		</td>
		<td valign="top" width="100%">	  
			<div id="content"><script type="text/javascript">explorer.initialize("yage.scene.scene");</script>
				<table class="content" width="100%">
					<tr><td id="docbody"><h1>yage.scene.scene</h1><!-- Generated by Ddoc from yage/scene/scene.d -->
<b>Authors:</b><br>
Eric Poggel
<br><br>
<b>License:</b><br>
<a href="lgpl.txt">LGPL</a>
 
<br><br>


<script type="text/javascript">explorer.outline.incSymbolLevel();</script>
<dl>
<script type="text/javascript">explorer.outline.writeEnabled = true;</script>
<dt><span class="decl">class 
<span class="currsymbol">Scene</span>
<script type="text/javascript">explorer.outline.addDecl('Scene');</script>
: yage.scene.node.Node;
</span></dt>
<script type="text/javascript">explorer.outline.writeEnabled = false;</script>

<dd>A 
<span class="currsymbol">Scene</span>
<script type="text/javascript">explorer.outline.addDecl('Scene');</script>
 is the root of a tree of Nodes, and threfore never has a parent.
 Certain "global" variables are stored per 
<span class="currsymbol">Scene</span>
<script type="text/javascript">explorer.outline.addDecl('Scene');</script>
 and affect all Nodes in that 
<span class="currsymbol">Scene</span>
<script type="text/javascript">explorer.outline.addDecl('Scene');</script>
.
 Examples include global ambient lighting and the speed of sound.
 Scenes also maintain an array of all LightNodes in them.
<br><br>
Each 
<span class="currsymbol">Scene</span>
<script type="text/javascript">explorer.outline.addDecl('Scene');</script>
 updates its nodes in its own thread at a fixed frequencty,
 controlled by play(), pause() and other ITemporal methods.

<br><br>
<b>Example:</b><br>
<pre class="d_code"> <b>Scene</b> scene = <span style="color: blue">new</span> <b>Scene</b>();
 scene.play();                          <span style="color: green">// Start the scene updater at 60 times per second.
</span> <span style="color: blue">scope</span>(exit)scene.pause();              <span style="color: green">// Ensure it stops later.
</span>
 <b>Scene</b> skybox = <span style="color: blue">new</span> <b>Scene</b>();            <span style="color: green">// Create a skybox for the scene.
</span> ModelNode sky = skybox.addChild(<span style="color: blue">new</span> ModelNode()); <span style="color: green">// A model with all faces pointing inward.
</span> sky.setModel(<span style="color: purple">"sky/sanctuary.ms3d"</span>);    <span style="color: green">// Use this 3D model as geometry for the skybox.
</span> scene.setSkybox(skybox);
</pre>
 
<br><br>


<script type="text/javascript">explorer.outline.incSymbolLevel();</script>
<dl>
<script type="text/javascript">explorer.outline.writeEnabled = true;</script>
<dt><span class="decl">this();
</span></dt>
<script type="text/javascript">explorer.outline.writeEnabled = false;</script>

<dd>Construct an empty Scene.
<br><br>

</dd>

<script type="text/javascript">explorer.outline.writeEnabled = true;</script>
<dt><span class="decl">Scene 
<span class="currsymbol">clone</span>
<script type="text/javascript">explorer.outline.addDecl('clone');</script>
(bool <span class="funcparam">children</span> = false);
</span></dt>
<script type="text/javascript">explorer.outline.writeEnabled = false;</script>

<dd>Make a duplicate of this scene.
 The duplicate will always start with its update thread paused.
<br><br>
<b>Params:</b><br>
<table><tr>
<td nowrap valign="top" style="padding-right: 8px">bool <span class="funcparam">children</span></td>

               
<td>recursively 
<span class="currsymbol">clone</span>
<script type="text/javascript">explorer.outline.addDecl('clone');</script>
 <span class="funcparam">children</span> (and descendants) and add them as <span class="funcparam">children</span> to the new Node.</td></tr>
</table><br>
<b>Returns:</b><br>
The cloned Node. 
<br><br>

</dd>

<script type="text/javascript">explorer.outline.writeEnabled = true;</script>
<dt><span class="decl">void 
<span class="currsymbol">finalize</span>
<script type="text/javascript">explorer.outline.addDecl('finalize');</script>
();
</span></dt>
<script type="text/javascript">explorer.outline.writeEnabled = false;</script>

<dd>Overridden to pause the scene update and sound threads and to remove this instance from the array of all scenes. 
<br><br>

</dd>

<script type="text/javascript">explorer.outline.writeEnabled = true;</script>
<dt><span class="decl">LightNode[LightNode] 
<span class="currsymbol">getLights</span>
<script type="text/javascript">explorer.outline.addDecl('getLights');</script>
();
</span></dt>
<script type="text/javascript">explorer.outline.writeEnabled = false;</script>

<dd>Get an array that contains all LightNodes that are contained within this Scene.
<br><br>

</dd>

<script type="text/javascript">explorer.outline.writeEnabled = true;</script>
<dt><span class="decl">Color 
<span class="currsymbol">getClearColor</span>
<script type="text/javascript">explorer.outline.addDecl('getClearColor');</script>
();
<br>void 
<span class="currsymbol">setClearColor</span>
<script type="text/javascript">explorer.outline.addDecl('setClearColor');</script>
(Color <span class="funcparam">color</span>);
</span></dt>
<script type="text/javascript">explorer.outline.writeEnabled = false;</script>

<dd>Get / set the background color rendered for this Scene when no skybox is specified.  TODO: allow transparency.
<br><br>

</dd>

<script type="text/javascript">explorer.outline.writeEnabled = true;</script>
<dt><span class="decl">float 
<span class="currsymbol">getDeltaTime</span>
<script type="text/javascript">explorer.outline.addDecl('getDeltaTime');</script>
();
</span></dt>
<script type="text/javascript">explorer.outline.writeEnabled = false;</script>

<dd>Return the amount of time since the last time update() was called for this Scene.
<br><br>

</dd>

<script type="text/javascript">explorer.outline.writeEnabled = true;</script>
<dt><span class="decl">void 
<span class="currsymbol">setErrorFunction</span>
<script type="text/javascript">explorer.outline.addDecl('setErrorFunction');</script>
(void delegate(Exception e) <span class="funcparam">on_error</span>);
<br>void 
<span class="currsymbol">setErrorFunction</span>
<script type="text/javascript">explorer.outline.addDecl('setErrorFunction');</script>
(void function(Exception e) <span class="funcparam">on_error</span>);
</span></dt>
<script type="text/javascript">explorer.outline.writeEnabled = false;</script>

<dd>Get / a function to call if the sound or update thread's update function throws an exception.
 If this is set to null
 (the default), then the exception will just be thrown.
<br><br>
<b>Params:</b><br>
<table><tr>
<td nowrap valign="top" style="padding-right: 8px">void delegate(Exception e) <span class="funcparam">on_error</span></td>

               
<td>Defaults to System.abortException.  If null
, any errors from the Scene's
     sound or update threads will cause the threads to terminate silently. </td></tr>
</table><br>

</dd>

<script type="text/javascript">explorer.outline.writeEnabled = true;</script>
<dt><span class="decl">Color 
<span class="currsymbol">getFogColor</span>
<script type="text/javascript">explorer.outline.addDecl('getFogColor');</script>
();
<br>void 
<span class="currsymbol">setFogColor</span>
<script type="text/javascript">explorer.outline.addDecl('setFogColor');</script>
(Color <span class="funcparam">fog_color</span>);
</span></dt>
<script type="text/javascript">explorer.outline.writeEnabled = false;</script>

<dd>Get / set the color of global scene fog, when fog is enabled.
<br><br>

</dd>

<script type="text/javascript">explorer.outline.writeEnabled = true;</script>
<dt><span class="decl">float 
<span class="currsymbol">getFogDensity</span>
<script type="text/javascript">explorer.outline.addDecl('getFogDensity');</script>
();
<br>void 
<span class="currsymbol">setFogDensity</span>
<script type="text/javascript">explorer.outline.addDecl('setFogDensity');</script>
(float <span class="funcparam">density</span>);
</span></dt>
<script type="text/javascript">explorer.outline.writeEnabled = false;</script>

<dd>Get / set the thickness (density) of the Scene's global fog, when fog is enabled.
 Depending on the scale of your scene, decent values range between .001 and .1.
<br><br>

</dd>

<script type="text/javascript">explorer.outline.writeEnabled = true;</script>
<dt><span class="decl">bool 
<span class="currsymbol">getFogEnabled</span>
<script type="text/javascript">explorer.outline.addDecl('getFogEnabled');</script>
();
<br>void 
<span class="currsymbol">setFogEnabled</span>
<script type="text/javascript">explorer.outline.addDecl('setFogEnabled');</script>
(bool <span class="funcparam">enabled</span>);
</span></dt>
<script type="text/javascript">explorer.outline.writeEnabled = false;</script>

<dd>Get / set whether global distance fog is enabled for this scene.
 For best results, use no skybox and set the clear color the same as the fog color.
 For improved performance, set the cameras' max view distance to just beyond
 where objects become completely obscured by the fog. 
<br><br>

</dd>

<script type="text/javascript">explorer.outline.writeEnabled = true;</script>
<dt><span class="decl">Color 
<span class="currsymbol">getGlobalAmbient</span>
<script type="text/javascript">explorer.outline.addDecl('getGlobalAmbient');</script>
();
<br>void 
<span class="currsymbol">setGlobalAmbient</span>
<script type="text/javascript">explorer.outline.addDecl('setGlobalAmbient');</script>
(Color <span class="funcparam">ambient</span>);
</span></dt>
<script type="text/javascript">explorer.outline.writeEnabled = false;</script>

<dd>Get / set the color of the scene's global ambient light.
<br><br>

</dd>

<script type="text/javascript">explorer.outline.writeEnabled = true;</script>
<dt><span class="decl">Scene 
<span class="currsymbol">getSkybox</span>
<script type="text/javascript">explorer.outline.addDecl('getSkybox');</script>
();
<br>void 
<span class="currsymbol">setSkybox</span>
<script type="text/javascript">explorer.outline.addDecl('setSkybox');</script>
(Scene <span class="funcparam">_skybox</span>);
</span></dt>
<script type="text/javascript">explorer.outline.writeEnabled = false;</script>

<dd>Get / set skybox.
 A Scene can have another heirarchy of nodes that will be
 rendered as a skybox by any camera. 
<br><br>

</dd>

<script type="text/javascript">explorer.outline.writeEnabled = true;</script>
<dt><span class="decl">float 
<span class="currsymbol">getSpeedOfSound</span>
<script type="text/javascript">explorer.outline.addDecl('getSpeedOfSound');</script>
();
<br>void 
<span class="currsymbol">setSpeedOfSound</span>
<script type="text/javascript">explorer.outline.addDecl('setSpeedOfSound');</script>
(float <span class="funcparam">speed</span>);
</span></dt>
<script type="text/javascript">explorer.outline.writeEnabled = false;</script>

<dd>Get / set the speed of sound (in game units per second) variable that will be passed to OpenAL.
<br><br>

</dd>

<script type="text/javascript">explorer.outline.writeEnabled = true;</script>
<dt><span class="decl">void 
<span class="currsymbol">play</span>
<script type="text/javascript">explorer.outline.addDecl('play');</script>
();
<br>void 
<span class="currsymbol">pause</span>
<script type="text/javascript">explorer.outline.addDecl('pause');</script>
();
<br>bool 
<span class="currsymbol">paused</span>
<script type="text/javascript">explorer.outline.addDecl('paused');</script>
();
<br>void 
<span class="currsymbol">seek</span>
<script type="text/javascript">explorer.outline.addDecl('seek');</script>
(double <span class="funcparam">seconds</span>);
<br>double 
<span class="currsymbol">tell</span>
<script type="text/javascript">explorer.outline.addDecl('tell');</script>
();
</span></dt>
<script type="text/javascript">explorer.outline.writeEnabled = false;</script>

<dd>Implement the time control functions of ITemporal.
<br><br>
When the scene's timer (implementd as a Repeater) runs, it updates
 the positions and rotations of all Nodes in this Scene.
 Each Scene is updated in its own thread.
 If the updating thread gets behind, it will always attempt to catch up by updating more frequently.
<br><br>

</dd>

<script type="text/javascript">explorer.outline.writeEnabled = true;</script>
<dt><span class="decl">void 
<span class="currsymbol">swapTransformRead</span>
<script type="text/javascript">explorer.outline.addDecl('swapTransformRead');</script>
();
</span></dt>
<script type="text/javascript">explorer.outline.writeEnabled = false;</script>

<dd>Swap the transform buffer cache for each Node to the latest that's not currently
 being written to.
<br><br>

</dd>

<script type="text/javascript">explorer.outline.writeEnabled = true;</script>
<dt><span class="decl">void 
<span class="currsymbol">swapTransformWrite</span>
<script type="text/javascript">explorer.outline.addDecl('swapTransformWrite');</script>
();
</span></dt>
<script type="text/javascript">explorer.outline.writeEnabled = false;</script>

<dd>Start writing to the transform buffer cache that's not currently being read.
<br><br>

</dd>

<script type="text/javascript">explorer.outline.writeEnabled = true;</script>
<dt><span class="decl">void 
<span class="currsymbol">update</span>
<script type="text/javascript">explorer.outline.addDecl('update');</script>
(float <span class="funcparam">delta</span> = cast(float)<span class="funcparam">delta</span>.tell());
</span></dt>
<script type="text/javascript">explorer.outline.writeEnabled = false;</script>

<dd>Update all Nodes in the scene by <span class="funcparam">delta</span> seconds.
 This function is typically called automatically at a set interval from the scene's update_thread once scene.play() is called.
<br><br>
<b>Params:</b><br>
<table><tr>
<td nowrap valign="top" style="padding-right: 8px">float <span class="funcparam">delta</span></td>

               
<td>time in seconds.  If not set, defaults to the amount of time since the last time 
<span class="currsymbol">update</span>
<script type="text/javascript">explorer.outline.addDecl('update');</script>
() was called. </td></tr>
</table><br>

</dd>

<script type="text/javascript">explorer.outline.writeEnabled = true;</script>
<dt><span class="decl">LightNode[LightNode] 
<span class="currsymbol">getAllLights</span>
<script type="text/javascript">explorer.outline.addDecl('getAllLights');</script>
();
</span></dt>
<script type="text/javascript">explorer.outline.writeEnabled = false;</script>

<dd>Get all LightNodes that are currently a part of this scene.
<br><br>
<b>Returns:</b><br>
a self indexed array. 
<br><br>

</dd>

<script type="text/javascript">explorer.outline.writeEnabled = true;</script>
<dt><span class="decl">CameraNode[CameraNode] 
<span class="currsymbol">getAllCameras</span>
<script type="text/javascript">explorer.outline.addDecl('getAllCameras');</script>
();
</span></dt>
<script type="text/javascript">explorer.outline.writeEnabled = false;</script>

<dd>Get all CameraNodes that are currently a part of this scene.
<br><br>
<b>Returns:</b><br>
a self indexed array. 
<br><br>

</dd>

<script type="text/javascript">explorer.outline.writeEnabled = true;</script>
<dt><span class="decl">SoundNode[SoundNode] 
<span class="currsymbol">getAllSounds</span>
<script type="text/javascript">explorer.outline.addDecl('getAllSounds');</script>
();
</span></dt>
<script type="text/javascript">explorer.outline.writeEnabled = false;</script>

<dd>Get all SoundNodes that are currently a part of this scene.
<br><br>
<b>Returns:</b><br>
a self indexed array. 
<br><br>

</dd>

<script type="text/javascript">explorer.outline.writeEnabled = true;</script>
<dt><span class="decl">static Scene[Scene] 
<span class="currsymbol">getAllScenes</span>
<script type="text/javascript">explorer.outline.addDecl('getAllScenes');</script>
();
</span></dt>
<script type="text/javascript">explorer.outline.writeEnabled = false;</script>

<dd>Get a self-indexed array of all senes that are active (have been constructed but not finalized). 
<br><br>

</dd>
</dl>
<script type="text/javascript">explorer.outline.decSymbolLevel();</script>


</dd>
</dl>
<script type="text/javascript">explorer.outline.decSymbolLevel();</script>


</td></tr>
				</table>
			</div>
		</td>  
	  </tr>
	</table>
	<div id="docfooter">
		Yage and all source files &copy; 2005-2009 Eric Poggel<br>
		Documentation generated with <a href="http://www.dsource.org/projects/helix/wiki/CandyDoc">
		<img src="img/candydoc.gif" alt="CandyDoc" style="vertical-align:middle; top:-1px"></a>
		on Sat Jul  4 17:40:05 2009

	</div>
	
	<script type="text/javascript">
	explorer.packageExplorer.addModule("demo1.gameobj");

	explorer.packageExplorer.addModule("demo1.main");

	explorer.packageExplorer.addModule("demo1.misc");

	explorer.packageExplorer.addModule("demo1.ship");

	explorer.packageExplorer.addModule("yage.all");

	explorer.packageExplorer.addModule("yage.core.all");

	explorer.packageExplorer.addModule("yage.core.array");

	explorer.packageExplorer.addModule("yage.core.async");

	explorer.packageExplorer.addModule("yage.core.closure");

	explorer.packageExplorer.addModule("yage.core.color");

	explorer.packageExplorer.addModule("yage.core.freelist");

	explorer.packageExplorer.addModule("yage.core.math.all");

	explorer.packageExplorer.addModule("yage.core.math.math");

	explorer.packageExplorer.addModule("yage.core.math.matrix");

	explorer.packageExplorer.addModule("yage.core.math.plane");

	explorer.packageExplorer.addModule("yage.core.math.quatrn");

	explorer.packageExplorer.addModule("yage.core.math.vector");

	explorer.packageExplorer.addModule("yage.core.misc");

	explorer.packageExplorer.addModule("yage.core.object2");

	explorer.packageExplorer.addModule("yage.core.parse");

	explorer.packageExplorer.addModule("yage.core.repeater");

	explorer.packageExplorer.addModule("yage.core.timer");

	explorer.packageExplorer.addModule("yage.core.tree");

	explorer.packageExplorer.addModule("yage.core.types");

	explorer.packageExplorer.addModule("yage.core.xml");

	explorer.packageExplorer.addModule("yage.gui.all");

	explorer.packageExplorer.addModule("yage.gui.exceptions");

	explorer.packageExplorer.addModule("yage.gui.style");

	explorer.packageExplorer.addModule("yage.gui.surface");

	explorer.packageExplorer.addModule("yage.gui.textlayout");

	explorer.packageExplorer.addModule("yage.resource.all");

	explorer.packageExplorer.addModule("yage.resource.font");

	explorer.packageExplorer.addModule("yage.resource.geometry");

	explorer.packageExplorer.addModule("yage.resource.image");

	explorer.packageExplorer.addModule("yage.resource.layer");

	explorer.packageExplorer.addModule("yage.resource.lazyresource");

	explorer.packageExplorer.addModule("yage.resource.manager");

	explorer.packageExplorer.addModule("yage.resource.material");

	explorer.packageExplorer.addModule("yage.resource.model");

	explorer.packageExplorer.addModule("yage.resource.ms3dloader");

	explorer.packageExplorer.addModule("yage.resource.objloader");

	explorer.packageExplorer.addModule("yage.resource.resource");

	explorer.packageExplorer.addModule("yage.resource.shader");

	explorer.packageExplorer.addModule("yage.resource.sound");

	explorer.packageExplorer.addModule("yage.resource.texture");

	explorer.packageExplorer.addModule("yage.scene.all");

	explorer.packageExplorer.addModule("yage.scene.camera");

	explorer.packageExplorer.addModule("yage.scene.graph");

	explorer.packageExplorer.addModule("yage.scene.light");

	explorer.packageExplorer.addModule("yage.scene.model");

	explorer.packageExplorer.addModule("yage.scene.movable");

	explorer.packageExplorer.addModule("yage.scene.node");

	explorer.packageExplorer.addModule("yage.scene.scene");

	explorer.packageExplorer.addModule("yage.scene.sound");

	explorer.packageExplorer.addModule("yage.scene.sprite");

	explorer.packageExplorer.addModule("yage.scene.terrain");

	explorer.packageExplorer.addModule("yage.scene.visible");

	explorer.packageExplorer.addModule("yage.system.all");

	explorer.packageExplorer.addModule("yage.system.graphics.all");

	explorer.packageExplorer.addModule("yage.system.graphics.context");

	explorer.packageExplorer.addModule("yage.system.graphics.probe");

	explorer.packageExplorer.addModule("yage.system.graphics.render");

	explorer.packageExplorer.addModule("yage.system.graphics.resource");

	explorer.packageExplorer.addModule("yage.system.input");

	explorer.packageExplorer.addModule("yage.system.log");

	explorer.packageExplorer.addModule("yage.system.sound.all");

	explorer.packageExplorer.addModule("yage.system.sound.openal");

	explorer.packageExplorer.addModule("yage.system.sound.soundsystem");

	explorer.packageExplorer.addModule("yage.system.system");

	explorer.packageExplorer.addModule("yage.system.window");

	explorer.packageExplorer.addModule("yage.util.all");

	explorer.packageExplorer.addModule("yage.util.flyer");

	explorer.packageExplorer.addModule("yage.util.spring");
</script>
  </body>
</html>

