
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
  <head>
	<meta http-equiv="content-type" content="text/html; charset=utf-8" />
	<meta content="text/javascript" http-equiv="content-script-type" />
	<title>yage.gui.textblock</title>
	<link rel="stylesheet" type="text/css" href="css/default.css" />
	<link rel="stylesheet" type="text/css" href="css/candydoc.css" />
	<link rel="stylesheet" type="text/css" href="css/menu.css" />
	<script type="text/javascript" src="js/util.js"></script>
	<script type="text/javascript" src="js/tree.js"></script>
	<script type="text/javascript" src="js/explorer.js"></script>
  </head>
  <body>
	<!-- Title Image -->	
	<div style="position: absolute; z-index: 2;">
		<a href="http://yage3d.net"><img src="img/title.png" alt="Yage3D.net" border="0"></a>
	</div>
	
	<!-- Menu -->
	<div style="position: absolute;	height: 87px; width: 100%">
		<div style="margin-top: 63px">
		<div id="slidetabsmenu">
			<ul>
			<li><a href="http://yage3d.net" title="Yage Home"><span>Home</span></a></li>
			<li><a href="http://yage3d.net/wiki" title="Yage Wiki"><span>Wiki</span></a></li>
			<li><a href="http://dsource.org/forums/viewforum.php?f=110" title="Yage Forum"><span>Forum</span></a></li>
			<li><a href="index.html" title="Yage API Documentation"><span>API</span></a></li>
			</ul>
		</div>
		</div>
	</div>
	
	 <!-- Images at top of page -->
	<table cellpadding="0" cellspacing="0" width="100%">
		<!-- Upper part -->
		<tr>
			<td width="75%" style="background: url('img/title-stretch.png') repeat-x">&nbsp;</td>
			<td style="background: url('img/title-right-stretch.png') repeat-x">
				<img src="img/title-right.png" alt="" height="102" style="vertical-align: top;"></td>
			<td width="25%" valign="top" style="background: url('img/title-right-stretch.png') repeat-x">
				<img src="img/title-right-gear.png" style="float: right;" alt="">
			</td>
		</tr>
		
		<tr> <!-- Bar Beneath Main title -->
			<td width="100%" colspan="4">
			
			
	
				<table cellpadding="0" cellspacing="0" width="100%">
					<tr>
						<td width="100%" style="background: url('img/bar-stretch.png') repeat-x; height: 9px;"></td>
						<td valign="top"><img src="img/search.png" alt="" style="vertical-align: top"></td>
						<td style="background: url('img/search-stretch.png') repeat-x;">
							<!-- Use Google search for now -->				
							<form method="GET" action="http://www.google.com/search" style="padding: 2px">
								<input type="hidden" name="ie" value="UTF-8">
								<input type="hidden" name="oe" value="UTF-8">
								<input type="hidden" name="domains" value="www.yage3d.net">
								<input type="hidden" name="sitesearch" value="svn.dsource.org/projects/yage/trunk/doc/">
								<input type="text" name="q" value="" style="height: 1.1em; width: 200px"><span>
								<input type="submit" name="btnG" value="API Search" style="width: 90px"></span>
							</form>
							<div style="width: 320px; height: 1px;"></div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>
	
	<!-- Content -->
	<table cellpadding="6">
	  <tr>
		<td valign="top">
		  <div id="tabarea"></div>
		  <div id="explorerclient"></div>  
		</td>
		<td valign="top" width="100%">	  
			<div id="content"><script type="text/javascript">explorer.initialize("yage.gui.textblock");</script>
				<table class="content" width="100%">
					<tr><td id="docbody"><h1>yage.gui.textblock</h1><!-- Generated by Ddoc from yage\gui\textblock.d -->
<b>Authors:</b><br>
Eric Poggel
<br><br>
<b>License:</b><br>
<a href="lgpl3.txt">LGPL v3</a>
<br><br>

 This module is dedicated to my loving wife, Brittany Poggel.
 
<br><br>


<script type="text/javascript">explorer.outline.incSymbolLevel();</script>
<dl>
<script type="text/javascript">explorer.outline.writeEnabled = true;</script>
<dt><span class="decl">struct 
<span class="currsymbol">TextCursor</span>
<script type="text/javascript">explorer.outline.addDecl('TextCursor');</script>
;
</span></dt>
<script type="text/javascript">explorer.outline.writeEnabled = false;</script>

<dd><br><br>

<script type="text/javascript">explorer.outline.incSymbolLevel();</script>
<dl>
<script type="text/javascript">explorer.outline.writeEnabled = true;</script>
<dt><span class="decl">uint 
<span class="currsymbol">position</span>
<script type="text/javascript">explorer.outline.addDecl('position');</script>
;
</span></dt>
<script type="text/javascript">explorer.outline.writeEnabled = false;</script>

<dd><br><br>
</dd>

<script type="text/javascript">explorer.outline.writeEnabled = true;</script>
<dt><span class="decl">uint 
<span class="currsymbol">selectionStart</span>
<script type="text/javascript">explorer.outline.addDecl('selectionStart');</script>
;
</span></dt>
<script type="text/javascript">explorer.outline.writeEnabled = false;</script>

<dd><br><br>
</dd>

<script type="text/javascript">explorer.outline.writeEnabled = true;</script>
<dt><span class="decl">uint 
<span class="currsymbol">selectionEnd</span>
<script type="text/javascript">explorer.outline.addDecl('selectionEnd');</script>
;
</span></dt>
<script type="text/javascript">explorer.outline.writeEnabled = false;</script>

<dd><br><br>
</dd>
</dl>
<script type="text/javascript">explorer.outline.decSymbolLevel();</script>


</dd>

<script type="text/javascript">explorer.outline.writeEnabled = true;</script>
<dt><span class="decl">struct 
<span class="currsymbol">TextBlock</span>
<script type="text/javascript">explorer.outline.addDecl('TextBlock');</script>
;
</span></dt>
<script type="text/javascript">explorer.outline.writeEnabled = false;</script>

<dd>Render text and simple html with styles to an image.
 
<span class="currsymbol">TextBlock</span>
<script type="text/javascript">explorer.outline.addDecl('TextBlock');</script>
 has two modes of input:  setHtml() and the input() function that receives keypresses.
 This class is used internally by the engine.  In most cases it shouldn't need to be called externally. 
<br><br>


<script type="text/javascript">explorer.outline.incSymbolLevel();</script>
<dl>
<script type="text/javascript">explorer.outline.writeEnabled = true;</script>
<dt><span class="decl">Vec!(2,int) 
<span class="currsymbol">cursorToXy</span>
<script type="text/javascript">explorer.outline.addDecl('cursorToXy');</script>
(int <span class="funcparam">position</span>);
</span></dt>
<script type="text/javascript">explorer.outline.writeEnabled = false;</script>

<dd>Get the xy pixel <span class="funcparam">position</span> of a cursor <span class="funcparam">position</span>. 
 Functions for converting between line/letter/cursor space and x/y <span class="funcparam">position</span>.
<br><br>

</dd>

<script type="text/javascript">explorer.outline.writeEnabled = true;</script>
<dt><span class="decl">int 
<span class="currsymbol">xyToCursor</span>
<script type="text/javascript">explorer.outline.addDecl('xyToCursor');</script>
(Vec!(2,int) <span class="funcparam">xy</span>);
</span></dt>
<script type="text/javascript">explorer.outline.writeEnabled = false;</script>

<dd>Get the cursor position from an <span class="funcparam">xy</span> pixel position. 
 Functions for converting between line/letter/cursor space and x/y position.
<br><br>

</dd>

<script type="text/javascript">explorer.outline.writeEnabled = true;</script>
<dt><span class="decl">int 
<span class="currsymbol">cursorToLine</span>
<script type="text/javascript">explorer.outline.addDecl('cursorToLine');</script>
(ref int <span class="funcparam">position</span>);
</span></dt>
<script type="text/javascript">explorer.outline.writeEnabled = false;</script>

<dd>Convert an absolute cursor <span class="funcparam">position</span> to a line/<span class="funcparam">position</span> pair.
<br><br>
<b>Params:</b><br>
<table><tr>
<td nowrap valign="top" style="padding-right: 8px">int <span class="funcparam">position</span></td>

               
<td>Character <span class="funcparam">position</span> from the beginning of the TextBlock
     After the function executes, this will be the <span class="funcparam">position</span> on the line returned.</td></tr>
</table><br>
<b>Returns:</b><br>
The line number.  If <span class="funcparam">position</span> is after the last line,
     then the number of the last line is returned and <span class="funcparam">position</span> is an offset from this.
 Functions for converting between line/letter/cursor space and x/y <span class="funcparam">position</span>.
<br><br>

</dd>

<script type="text/javascript">explorer.outline.writeEnabled = true;</script>
<dt><span class="decl">int 
<span class="currsymbol">lineToCursor</span>
<script type="text/javascript">explorer.outline.addDecl('lineToCursor');</script>
(int <span class="funcparam">line</span>, int <span class="funcparam">position</span>);
</span></dt>
<script type="text/javascript">explorer.outline.writeEnabled = false;</script>

<dd>Convert a cursor <span class="funcparam">line</span>/<span class="funcparam">position</span> pair to an absolute <span class="funcparam">position</span>.
<br><br>
<b>Params:</b><br>
<table><tr>
<td nowrap valign="top" style="padding-right: 8px">int <span class="funcparam">line</span></td>

               
<td></td></tr>
<tr>
<td nowrap valign="top" style="padding-right: 8px">int <span class="funcparam">position</span></td>

               
<td>Position from the beginning of the <span class="funcparam">line</span>, may be negative or exceed the <span class="funcparam">line</span> length.</td></tr>
</table><br>
<b>Returns:</b><br>
The absolute <span class="funcparam">position</span> of the cursor from the beginning of the text block. 
 Functions for converting between <span class="funcparam">line</span>/letter/cursor space and x/y <span class="funcparam">position</span>.
<br><br>

</dd>

<script type="text/javascript">explorer.outline.writeEnabled = true;</script>
<dt><span class="decl">char[] 
<span class="currsymbol">getHtml</span>
<script type="text/javascript">explorer.outline.addDecl('getHtml');</script>
();
</span></dt>
<script type="text/javascript">explorer.outline.writeEnabled = false;</script>

<dd>Reverse the normal function of TextLayout and convert letters[] back to a string of html text.
 The text may use different tags than the original html, (since some information is lost)
 but will be functionally the same.  
<br><br>

</dd>

<script type="text/javascript">explorer.outline.writeEnabled = true;</script>
<dt><span class="decl">void 
<span class="currsymbol">input</span>
<script type="text/javascript">explorer.outline.addDecl('input');</script>
(int <span class="funcparam">key</span>, int <span class="funcparam">mod</span>, dchar <span class="funcparam">unicode</span>, ref TextCursor <span class="funcparam">cursor</span>);
</span></dt>
<script type="text/javascript">explorer.outline.writeEnabled = false;</script>

<dd>Update lines and letters data structures from keyboard 
<span class="currsymbol">input</span>
<script type="text/javascript">explorer.outline.addDecl('input');</script>

<br><br>
<b>Params:</b><br>
<table><tr>
<td nowrap valign="top" style="padding-right: 8px">int <span class="funcparam">key</span></td>

               
<td>SDL <span class="funcparam">key</span> code constant</td></tr>
<tr>
<td nowrap valign="top" style="padding-right: 8px">int <span class="funcparam">mod</span></td>

               
<td>modifier <span class="funcparam">key</span>.</td></tr>
<tr>
<td nowrap valign="top" style="padding-right: 8px">dchar <span class="funcparam">unicode</span></td>

               
<td>Unicode value of the pressed <span class="funcparam">key</span>.</td></tr>
<tr>
<td nowrap valign="top" style="padding-right: 8px">TextCursor <span class="funcparam">cursor</span></td>

               
<td>The Surface's TextCursor. </td></tr>
</table><br>

</dd>

<script type="text/javascript">explorer.outline.writeEnabled = true;</script>
<dt><span class="decl">Image 
<span class="currsymbol">render</span>
<script type="text/javascript">explorer.outline.addDecl('render');</script>
(bool <span class="funcparam">pow2</span> = false, TextCursor* <span class="funcparam">cursor</span> = null);
</span></dt>
<script type="text/javascript">explorer.outline.writeEnabled = false;</script>

<dd>Convert a string of primitive html text and 
<span class="currsymbol">render</span>
<script type="text/javascript">explorer.outline.addDecl('render');</script>
 it to an image.
 Note that this is currently not thread-safe, since the reusable buffers above make it non-re-entrant
 and also due to the non thread-safety of using Font.
 Characters with a bold font-weight are rendered at 1.5x normal width.
 Characters with a italic/oblique font-style are rendered skewed.
 For ideal rendering, instead use a font-family that has a bold or italic style.
<br><br>
<b>Params:</b><br>
<table><tr>
<td nowrap valign="top" style="padding-right: 8px">style</td>

               
<td>A style with fontSize and lineHeight in terms of pixels</td></tr>
<tr>
<td nowrap valign="top" style="padding-right: 8px">bool <span class="funcparam">pow2</span></td>

               
<td>Render an image with dimensions that are a power of 2 (useful for older graphics cards)</td></tr>
<tr>
<td nowrap valign="top" style="padding-right: 8px">TextCursor* <span class="funcparam">cursor</span></td>

               
<td>Render this text <span class="funcparam">cursor</span> if not null
.</td></tr>
</table><br>
<b>Returns:</b><br>
An RGBA image of width pixels wide and is shorter or equal to height.
     Note that the same buffer is used for each return, so one call to this function will overwrite a previous result.
<br><br>

</dd>

<script type="text/javascript">explorer.outline.writeEnabled = true;</script>
<dt><span class="decl">void 
<span class="currsymbol">setHtml</span>
<script type="text/javascript">explorer.outline.addDecl('setHtml');</script>
(char[] <span class="funcparam">html</span>);
</span></dt>
<script type="text/javascript">explorer.outline.writeEnabled = false;</script>

<dd>Set the contents of the Textblock with <span class="funcparam">html</span>.
<br><br>
<b>Params:</b><br>
<table><tr>
<td nowrap valign="top" style="padding-right: 8px">char[] <span class="funcparam">html</span></td>

               
<td>String of utf-8 encoded <span class="funcparam">html</span> text to render.
       The following <span class="funcparam">html</span> tags are supported:<br>
       	a, b, br, del, i, span, sub, sup, u <br>
       The following css is supported via inline style attributes: <br>
         color, font-family, font-size[%|px], font-style[normal|italic|oblique], font-weight[normal|bold],
         letter-spacing[%|px], line-height[%|px],
         text-align[left|center|right] text-decoration[none|underline|overline|line-through] </td></tr>
</table><br>

</dd>

<script type="text/javascript">explorer.outline.writeEnabled = true;</script>
<dt><span class="decl">bool 
<span class="currsymbol">update</span>
<script type="text/javascript">explorer.outline.addDecl('update');</script>
(Style <span class="funcparam">style</span>, int <span class="funcparam">width</span>, int <span class="funcparam">height</span>);
</span></dt>
<script type="text/javascript">explorer.outline.writeEnabled = false;</script>

<dd>Replace the text with new text, rebuilding the internal lines and letters data structures.
 This is unlike input(), which modifies the text based on a single keystroke.
<br><br>
<b>Params:</b><br>
<table><tr>
<td nowrap valign="top" style="padding-right: 8px">Style <span class="funcparam">style</span></td>

               
<td>A <span class="funcparam">style</span> with fontSize and lineHeight in terms of pixels</td></tr>
<tr>
<td nowrap valign="top" style="padding-right: 8px">int <span class="funcparam">width</span></td>

               
<td>Available <span class="funcparam">width</span> for rendering text</td></tr>
<tr>
<td nowrap valign="top" style="padding-right: 8px">int <span class="funcparam">height</span></td>

               
<td>Available <span class="funcparam">height</span> for rendering text.</td></tr>
</table><br>
<b>Returns:</b><br>
True if the text will need to be re-rendered, false
 otherwise.
<br><br>
<b>TODO:</b><br>
Should this be a constructor to maintain RAII? 
<br><br>

</dd>
</dl>
<script type="text/javascript">explorer.outline.decSymbolLevel();</script>


</dd>
</dl>
<script type="text/javascript">explorer.outline.decSymbolLevel();</script>


</td></tr>
				</table>
			</div>
		</td>  
	  </tr>
	</table>
	<div id="docfooter">
		Yage source files are copywritten by their specified authors and available under the terms of the GNU LGPL.<br>
		Documentation generated with <a href="http://www.dsource.org/projects/helix/wiki/CandyDoc">
		<img src="img/candydoc.gif" alt="CandyDoc" style="vertical-align:middle; top:-1px"></a>
		on Wed Aug 11 11:14:27 2010

	</div>
	
	<script type="text/javascript">
	explorer.packageExplorer.addModule("demo1.gameobj");

	explorer.packageExplorer.addModule("demo1.main");

	explorer.packageExplorer.addModule("demo1.ship");

	explorer.packageExplorer.addModule("demo1.spring");

	explorer.packageExplorer.addModule("yage.all");

	explorer.packageExplorer.addModule("yage.core.ThreadPool");

	explorer.packageExplorer.addModule("yage.core.all");

	explorer.packageExplorer.addModule("yage.core.array");

	explorer.packageExplorer.addModule("yage.core.cache");

	explorer.packageExplorer.addModule("yage.core.color");

	explorer.packageExplorer.addModule("yage.core.format");

	explorer.packageExplorer.addModule("yage.core.json");

	explorer.packageExplorer.addModule("yage.core.math.all");

	explorer.packageExplorer.addModule("yage.core.math.math");

	explorer.packageExplorer.addModule("yage.core.math.matrix");

	explorer.packageExplorer.addModule("yage.core.math.plane");

	explorer.packageExplorer.addModule("yage.core.math.quatrn");

	explorer.packageExplorer.addModule("yage.core.math.vector");

	explorer.packageExplorer.addModule("yage.core.memory");

	explorer.packageExplorer.addModule("yage.core.misc");

	explorer.packageExplorer.addModule("yage.core.object2");

	explorer.packageExplorer.addModule("yage.core.parallel");

	explorer.packageExplorer.addModule("yage.core.parse");

	explorer.packageExplorer.addModule("yage.core.repeater");

	explorer.packageExplorer.addModule("yage.core.timer");

	explorer.packageExplorer.addModule("yage.core.tree");

	explorer.packageExplorer.addModule("yage.core.types");

	explorer.packageExplorer.addModule("yage.gui.all");

	explorer.packageExplorer.addModule("yage.gui.controls");

	explorer.packageExplorer.addModule("yage.gui.exceptions");

	explorer.packageExplorer.addModule("yage.gui.style");

	explorer.packageExplorer.addModule("yage.gui.surface");

	explorer.packageExplorer.addModule("yage.gui.surfacegeometry");

	explorer.packageExplorer.addModule("yage.gui.textblock");

	explorer.packageExplorer.addModule("yage.resource.all");

	explorer.packageExplorer.addModule("yage.resource.collada");

	explorer.packageExplorer.addModule("yage.resource.dds");

	explorer.packageExplorer.addModule("yage.resource.embed.embed");

	explorer.packageExplorer.addModule("yage.resource.font");

	explorer.packageExplorer.addModule("yage.resource.geometry");

	explorer.packageExplorer.addModule("yage.resource.image");

	explorer.packageExplorer.addModule("yage.resource.manager");

	explorer.packageExplorer.addModule("yage.resource.material");

	explorer.packageExplorer.addModule("yage.resource.model");

	explorer.packageExplorer.addModule("yage.resource.shader");

	explorer.packageExplorer.addModule("yage.resource.sound");

	explorer.packageExplorer.addModule("yage.resource.texture");

	explorer.packageExplorer.addModule("yage.scene.all");

	explorer.packageExplorer.addModule("yage.scene.camera");

	explorer.packageExplorer.addModule("yage.scene.graph");

	explorer.packageExplorer.addModule("yage.scene.light");

	explorer.packageExplorer.addModule("yage.scene.model");

	explorer.packageExplorer.addModule("yage.scene.movable");

	explorer.packageExplorer.addModule("yage.scene.node");

	explorer.packageExplorer.addModule("yage.scene.scene");

	explorer.packageExplorer.addModule("yage.scene.sound");

	explorer.packageExplorer.addModule("yage.scene.sprite");

	explorer.packageExplorer.addModule("yage.scene.terrain");

	explorer.packageExplorer.addModule("yage.scene.visible");

	explorer.packageExplorer.addModule("yage.system.all");

	explorer.packageExplorer.addModule("yage.system.graphics.all");

	explorer.packageExplorer.addModule("yage.system.graphics.api.api");

	explorer.packageExplorer.addModule("yage.system.graphics.api.opengl");

	explorer.packageExplorer.addModule("yage.system.graphics.probe");

	explorer.packageExplorer.addModule("yage.system.graphics.render");

	explorer.packageExplorer.addModule("yage.system.input");

	explorer.packageExplorer.addModule("yage.system.libraries");

	explorer.packageExplorer.addModule("yage.system.log");

	explorer.packageExplorer.addModule("yage.system.sound.all");

	explorer.packageExplorer.addModule("yage.system.sound.openal");

	explorer.packageExplorer.addModule("yage.system.sound.soundsystem");

	explorer.packageExplorer.addModule("yage.system.system");

	explorer.packageExplorer.addModule("yage.system.window");
</script>
  </body>
</html>

